---
title: csapp-chapter2
date: 2017-03-05 14:56:52
tags: csapp
categories: STUDY
---

Chapter 2 REVIEW

<!--more-->
### 信息存储
- 十进制数x可以表示为x=2^n，其中n=i+4j，可以把x转换成十六进制，第一位为2^i，后面跟j个0.
```eg.
	x=2048=2^11;  11=3+4*2;   x=0x800
```
- 数据大小(字节数)

c语言 | 32位 | 64位
:----:|:------:|:----:
char | 1 | 1
short | 2 | 2
int | 4 | 4
long | 4 | 8
long long | 8 | 8
char* | 8 | 8
float | 4 | 4
double | 8 | 8
- 小端法和大端法

假设十六进制数0x1234567位于地址0x100处

地址 | 0x100 | 0x101 | 0x102 | 0x103 
:-----:|:-----:|:-----:|:-----:|:-----:
big endian | 01 | 23 | 45 | 67 
little endian | 67 | 45 | 23 | 01 
	
假设字符串“1234”位于地址0x100处
  
地址 | 0x100 | 0x101 | 0x102 | 0x103 | 0x104
:----:|:----:|:----:|:----:|:----:|:----:
字符串 | 31 | 32 | 33 | 34 | 00
	 
### 编码方式
- 无符号数
$$B2U(w)=\sum_{w-1}^{i=0}{x}_{i}{2}^{i}$$
- 有符号数
$$B2T(w)=-{x}_{w-1}{2}^{w-1}+\sum_{w-2}^{i=0}{x}_{I}{2}^{i}$$
- 补码
$$TMin(w)=10...0b=-{2}^{w-1}$$
$$TMax(w)=01...1b={2}^{w-1}-1$$
- 编码方式之间的转换
	- 数值可能改变，但是位模式不变
	- short转换为unsigned时，先改变大小，再完成有符号数到无符号数的转换
	- 负溢出$+{2}^{w}$,正溢出$-{2}^{w}$
	- 截断相当于$mod({2}^{w})$

### 浮点数
- IEEE浮点表示

一个数先写成二进制的形式，$V={(-1)}^{s}*M*{2}^{E}$

位数 | 1位 | k位(exp) | n位(frac) | 对应规则
:----:|:----:|:----:|:----:|:----:
规格化的 | s | !=0&&!=255 | f | $M=1+f,$ $E=e-Bias,$ $Bias={2}^{k-1}-1$
非规格化的 | s | 全0 | f | $M=f,E=1-Bias$
无穷大 | s | 全1 | 全0 | 
特殊值 | s | 全1 | 非0 | 
- 二进制舍入

向偶数舍入(round-to-even): 要舍去的部分大于10...，直接进位；小于10...，直接舍去；等于10...，若精度位为1则进位否则舍去
